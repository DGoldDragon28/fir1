<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fir1: AudioFile</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fir1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="classAudioFile.html">AudioFile</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><img src="https://img.shields.io/badge/version-1.1.0-green.svg?style=flat-square" alt="Version" style="pointer-events: none;" class="inline"/> <img src="https://img.shields.io/badge/license-MIT-blue.svg?style=flat-square" alt="License" style="pointer-events: none;" class="inline"/> <img src="https://img.shields.io/badge/language-C++-yellow.svg?style=flat-square" alt="Language" style="pointer-events: none;" class="inline"/></p>
<p >A simple header-only C++ library for reading and writing audio files.</p>
<p >Current supported formats:</p>
<ul>
<li>WAV</li>
<li>AIFF</li>
</ul>
<h1><a class="anchor" id="autotoc_md40"></a>
Author</h1>
<p ><a class="el" href="classAudioFile.html">AudioFile</a> is written and maintained by Adam Stark.</p>
<p ><a href="http://www.adamstark.co.uk">http://www.adamstark.co.uk</a></p>
<h1><a class="anchor" id="autotoc_md41"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md42"></a>
Create an AudioFile object:</h2>
<pre class="fragment">    #include "AudioFile.h"

    AudioFile&lt;double&gt; audioFile;
</pre> <h2><a class="anchor" id="autotoc_md43"></a>
Load an audio file:</h2>
<pre class="fragment">    audioFile.load ("/path/to/my/audiofile.wav");
</pre> <h2><a class="anchor" id="autotoc_md44"></a>
Get some information about the loaded audio:</h2>
<pre class="fragment">    int sampleRate = audioFile.getSampleRate();
    int bitDepth = audioFile.getBitDepth();

    int numSamples = audioFile.getNumSamplesPerChannel();
    double lengthInSeconds = audioFile.getLengthInSeconds();

    int numChannels = audioFile.getNumChannels();
    bool isMono = audioFile.isMono();
    bool isStereo = audioFile.isStereo();

    // or, just use this quick shortcut to print a summary to the console
    audioFile.printSummary();
</pre> <h2><a class="anchor" id="autotoc_md45"></a>
Access the samples directly:</h2>
<pre class="fragment">    int channel = 0;
    int numSamples = audioFile.getNumSamplesPerChannel();

    for (int i = 0; i &lt; numSamples; i++)
    {
            double currentSample = audioFile.samples[channel][i];
    }
</pre> <h2><a class="anchor" id="autotoc_md46"></a>
Replace the AudioFile audio buffer with another</h2>
<pre class="fragment">    // 1. Create an AudioBuffer 
    // (BTW, AudioBuffer is just a vector of vectors)

    AudioFile&lt;double&gt;::AudioBuffer buffer;

    // 2. Set to (e.g.) two channels
    buffer.resize (2);

    // 3. Set number of samples per channel
    buffer[0].resize (100000);
    buffer[1].resize (100000);

    // 4. do something here to fill the buffer with samples, e.g.

    #include &lt;math.h&gt; // somewhere earler (for M_PI and sinf())

    // then...

    int numChannels = 2;
    int numSamplesPerChannel = 100000;
    float sampleRate = 44100.f;
    float frequency = 440.f;

    for (int i = 0; i &lt; numSamplesPerChannel; i++)
    {
    float sample = sinf (2. * M_PI * ((float) i / sampleRate) * frequency) ;

    for (int channel = 0; channel &lt; numChannels; channel++)
         buffer[channel][i] = sample * 0.5;
    }

    // 5. Put into the AudioFile object
    bool ok = audioFile.setAudioBuffer (buffer);
</pre><h2><a class="anchor" id="autotoc_md47"></a>
Resize the audio buffer</h2>
<pre class="fragment">    // Set both the number of channels and number of samples per channel
    audioFile.setAudioBufferSize (numChannels, numSamples);

    // Set the number of samples per channel
    audioFile.setNumSamplesPerChannel (numSamples);

    // Set the number of channels
    audioFile.setNumChannels (int numChannels);
</pre> <h2><a class="anchor" id="autotoc_md48"></a>
Set bit depth and sample rate</h2>
<pre class="fragment">    audioFile.setBitDepth (24);
    audioFile.setSampleRate (44100);
</pre> <h2><a class="anchor" id="autotoc_md49"></a>
Save the audio file to disk</h2>
<pre class="fragment">    // Wave file (implicit)
    audioFile.save ("path/to/desired/audioFile.wav");

    // Wave file (explicit)
    audioFile.save ("path/to/desired/audioFile.wav", AudioFileFormat::Wave);

    // Aiff file
    audioFile.save ("path/to/desired/audioFile.aif", AudioFileFormat::Aiff);
</pre><h1><a class="anchor" id="autotoc_md50"></a>
Examples</h1>
<p >Please see the <code>examples</code> folder for some examples on library usage.</p>
<h1><a class="anchor" id="autotoc_md51"></a>
A Note On Types</h1>
<p ><a class="el" href="classAudioFile.html">AudioFile</a> is a template class and so it can be instantiated using floating point precision: </p><pre class="fragment">    AudioFile&lt;float&gt; audioFile;
</pre><p> ...or double precision: </p><pre class="fragment">    AudioFile&lt;double&gt; audioFile;
</pre><p> This simply reflects the data type you would like to use to store the underlying audio samples. You can still read or write 8, 16 or 24-bit audio files, regardless of the type that you use (unless your system uses a precision for floats less than your desired bit depth).</p>
<p >I have heard of people using the library with other types, but I have not designed for those cases. Let me know if you are interested in this supporting a specific type more formally.</p>
<h1><a class="anchor" id="autotoc_md52"></a>
Error Messages</h1>
<p >By default, the library logs error messages to the console to provide information on what has gone wrong (e.g. a file we tried to load didn't exist).</p>
<p >If you prefer not to see these messages, you can disable this error logging behaviour using: </p><pre class="fragment">    audioFile.shouldLogErrorsToConsole (false);
</pre><h1><a class="anchor" id="autotoc_md53"></a>
Versions</h1>
<h4><a class="anchor" id="autotoc_md54"></a>
1.1.0 - 15th January 2022</h4>
<ul>
<li>Moved project to MIT licence</li>
<li>Added option to load an audio file already in memory</li>
<li>CI Workflow improvements and bug fixes</li>
</ul>
<h4><a class="anchor" id="autotoc_md55"></a>
1.0.9 - 23rd January 2021</h4>
<ul>
<li>Faster loading of audio files</li>
<li>Bug fixes</li>
</ul>
<h4><a class="anchor" id="autotoc_md56"></a>
1.0.8 - 18th October 2020</h4>
<ul>
<li>CMake support</li>
<li>Construct instances with a file path</li>
<li>Bug fixes</li>
</ul>
<h4><a class="anchor" id="autotoc_md57"></a>
1.0.7 - 3rd July 2020</h4>
<ul>
<li>Support for 32-bit audio files</li>
<li>Support for multi-channel audio files</li>
<li>Reading/writing of <a href="http://www.ixml.info/">iXML data chunks</a></li>
</ul>
<h4><a class="anchor" id="autotoc_md58"></a>
1.0.6 - 29th February 2020</h4>
<ul>
<li>Made error logging to the console optional</li>
<li>Fixed lots of compiler warnings</li>
</ul>
<h4><a class="anchor" id="autotoc_md59"></a>
1.0.5 - 14th October 2019</h4>
<ul>
<li>Added include of &lt;algorithm&gt; to better support Visual Studio</li>
</ul>
<h4><a class="anchor" id="autotoc_md60"></a>
1.0.4 - 13th October 2019</h4>
<ul>
<li>Changed to a header-only library. Now you can just include <a class="el" href="AudioFile_8h.html">AudioFile.h</a></li>
<li>Bug fixes</li>
</ul>
<h4><a class="anchor" id="autotoc_md61"></a>
1.0.3 - 28th October 2018</h4>
<ul>
<li>Bug fixes</li>
<li>Documentation updates</li>
</ul>
<h4><a class="anchor" id="autotoc_md62"></a>
1.0.2 - 6th June 2017</h4>
<ul>
<li>Bug fixes</li>
</ul>
<h1><a class="anchor" id="autotoc_md63"></a>
Contributions</h1>
<ul>
<li>Multichannel (i.e. &gt;2 channels) audio file support (<a href="https://github.com/Sidelobe">Sidelobe</a>)</li>
<li>Read/write of iXML data chunks (<a href="https://github.com/mynameisjohn">mynameisjohn</a>)</li>
<li>Remove warnings (<a href="https://github.com/Abhinav1997">Abhinav1997</a>)</li>
<li>Better support on Ubuntu (<a href="https://github.com/BenjaminHinchliff">BenjaminHinchliff</a>)</li>
<li>Faster loading of audio files (<a href="https://github.com/helloimmatt/">helloimmatt</a>)</li>
<li>Improvements to Github Actions workflow (<a href="https://github.com/emiro85">emiro85</a>)</li>
<li>Pull request review (<a href="https://github.com/MatthieuHernandez">MatthieuHernandez</a>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md64"></a>
Want to Contribute?</h1>
<p >If you would like to submit a pull request for this library, please do! But kindly follow the following simple guidelines...</p>
<ul>
<li>Make the changes as concise as is possible for the change you are proposing</li>
<li>Avoid unnecessarily changing a large number of lines - e.g. commits changing the number of spaces in indentations on all lines (and so on)</li>
<li>Keep to the code style of this library which is the <a href="https://juce.com/discover/stories/coding-standards">JUCE Coding Standards</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md65"></a>
License</h1>
<p >MIT License</p>
<p >Copyright (c) 2017 Adam Stark</p>
<p >Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p >The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p >THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 31 2022 15:52:58 for fir1 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
